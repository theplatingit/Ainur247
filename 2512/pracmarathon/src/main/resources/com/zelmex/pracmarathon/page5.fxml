<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.CheckBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.RadioButton?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.ToggleGroup?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>

<ScrollPane fitToWidth="true" style="-fx-background-color: white;" xmlns="http://javafx.com/javafx/22" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.zelmex.pracmarathon.controller.Page5Controller">

  <VBox alignment="TOP_CENTER" maxHeight="Infinity" maxWidth="Infinity" spacing="20" style="-fx-background-color: white;">

    <!-- Заголовок -->
    <HBox alignment="CENTER_LEFT" maxWidth="Infinity" spacing="20" style="-fx-background-color: #2c3e50; -fx-padding: 15 20;">
      <Label style="-fx-text-fill: white; -fx-font-size: 24px; -fx-font-weight: bold;" text="MARATHON SKILLS 2016" />
      <Region HBox.hgrow="ALWAYS" />
      <Button onAction="#cancel" style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-font-weight: bold;" text="Назад" />
      <Button onAction="#logout" style="-fx-background-color: #e74c3c; -fx-text-fill: white; -fx-font-weight: bold;" text="Logout" />
    </HBox>

    <!-- Основной контент -->
    <VBox alignment="TOP_CENTER" maxWidth="800" spacing="20" style="-fx-padding: 20;">

      <Label style="-fx-font-size: 22px; -fx-font-weight: bold;" text="Регистрация на марафон" />

      <Label style="-fx-text-alignment: center; -fx-font-size: 14px; -fx-padding: 0 0 20 0;" text="Пожалуйста заполните всю информацию, чтобы зарегистрироваться на Skills Marathon 2016 проводимом в Москве. Russia. С вами свяжутся после регистрации для уточнения оплаты и другой информации." wrapText="true" />

      <!-- Вид марафона (CheckBox - можно выбрать несколько) -->
      <VBox alignment="CENTER_LEFT" spacing="10" style="-fx-padding: 10;">
        <Label style="-fx-font-weight: bold; -fx-font-size: 16px;" text="Вид марафона:" />

        <VBox spacing="8" style="-fx-padding: 5 0 0 20;">
          <!-- Добавляем fx:id для каждого CheckBox -->
          <CheckBox fx:id="fullMarathonCheck" onAction="#updateTotal" text="42km Полный марафон($145)" />
          <CheckBox fx:id="halfMarathonCheck" onAction="#updateTotal" text="21km Полумарафон ($75)" />
          <CheckBox fx:id="shortMarathonCheck" onAction="#updateTotal" selected="true" text="5km Малая дистанция ($20)" />
        </VBox>
      </VBox>

      <!-- Детали спонсорства -->
      <VBox alignment="CENTER_LEFT" spacing="10" style="-fx-padding: 10;">
        <Label style="-fx-font-weight: bold; -fx-font-size: 16px;" text="Детали спонсорства" />

        <HBox spacing="10" style="-fx-padding: 5 0 0 20;">
          <Label text="Взнос:" />
          <Label style="-fx-font-weight: bold;" text="Фонд кошек" />
        </HBox>

        <HBox spacing="10" style="-fx-padding: 5 0 0 20;">
          <Label text="Сумма взноса:" />
          <Label style="-fx-font-weight: bold;" text="500$" />
        </HBox>
      </VBox>

      <!-- Варианты комплектов (RadioButton - можно выбрать только один) -->
      <VBox alignment="CENTER_LEFT" spacing="10" style="-fx-padding: 10;">
        <Label style="-fx-font-weight: bold; -fx-font-size: 16px;" text="Варианты комплектов:" />

        <!-- ToggleGroup для RadioButton -->
        <VBox spacing="8" style="-fx-padding: 5 0 0 20;">
          <fx:define>
            <ToggleGroup fx:id="kitToggleGroup" />
          </fx:define>

          <RadioButton fx:id="kitACheck" onAction="#updateTotal" selected="true" text="Вариант A ($0): Номер бегуна+ RFID браслет.">
                  <toggleGroup>
                     <ToggleGroup fx:id="kitToggleGroup" />
                  </toggleGroup></RadioButton>
          <RadioButton fx:id="kitBCheck" onAction="#updateTotal" text="Вариант B ($20): вариант A + бейсболка + бутылка воды." toggleGroup="$kitToggleGroup" />
          <RadioButton fx:id="kitCCheck" onAction="#updateTotal" text="Вариант C ($45): Вариант B + футболка + сувенирный буклет." toggleGroup="$kitToggleGroup" />
        </VBox>
      </VBox>

      <!-- Регистрационный взнос -->
      <HBox alignment="CENTER" spacing="50" style="-fx-padding: 20;">
        <VBox alignment="CENTER" spacing="10">
          <Label style="-fx-font-weight: bold; -fx-font-size: 16px;" text="Регистрационный взнос" />
          <Label fx:id="totalLabel" style="-fx-font-size: 28px; -fx-font-weight: bold;" text="185$" />
        </VBox>
      </HBox>

      <!-- Кнопки действий -->
      <HBox alignment="CENTER" spacing="20" style="-fx-padding: 20;">
        <Button onAction="#registerMarathon" style="-fx-pref-width: 150px; -fx-background-color: white; -fx-border-color: black; -fx-pref-height: 45px; -fx-font-size: 16px;" text="Регистрация" />
        <Button onAction="#cancel" style="-fx-pref-width: 150px; -fx-background-color: white; -fx-border-color: black; -fx-pref-height: 45px; -fx-font-size: 16px;" text="Отмена" />
      </HBox>
    </VBox>

    <Region VBox.vgrow="ALWAYS" />

    <!-- Футер -->
    <Label style="-fx-font-size: 14px; -fx-text-fill: #2c3e50; -fx-padding: 20; -fx-font-weight: bold;" text="18 дней 8 часов и 17 минут до старта марафона!" />
  </VBox>
</ScrollPane>
